<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="utf-8" />
  <title>Customizing schematic feature removal events</title>
  <style>
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th, td {
      padding: 5px;
    }
    th {
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h2>Customizing schematic feature removal events</h2>

<h3>Purpose</h3>

<p>This sample shows how to customize the BeforeRemoveFeature predefined schematic event used to manage the removal of schematic features contained in schematic diagrams. By default, when the Remove Schematic Features command is clicked, schematic features are graphically removed without being removed from the database. In this sample, the BeforeRemoveFeature predefined event is customized so the related record in the database is definitively removed.  </p>

<h3>Usage</h3>

<ol>
<li>Start Visual Studio, open the solution file, and build the project.  </li>
<li>Navigate to <ArcGIS DeveloperKit install location>\Samples\data\Schematics, and copy the SampleRemoval.gdb geodatabase in a folder for which you have full rights.  </li>
<li>Start ArcMap and open a new empty map.  </li>
<li>Click Customize and click Extension.  </li>
<li>Confirm that neither the Schematic Features Removal Events (C#) nor the Schematic Feature Removal Events (VBNet) extension is checked and close the Extensions dialog box.  </li>
<li>Open the Substation 08 schematic diagram contained in the SampleRemoval_Schematic schematic dataset in the SampleRemoval.gdb geodatabase you copied at step#2.  </li>
<li>Start an edit session on this schematic diagram.  </li>
<li>Select a set of schematic features in this diagram.  </li>
<li>Click Remove Schematic Features. The selected schematic features are graphically removed, but they are kept in the schematic feature classes.  </li>
<li>Close the edit session on the Substation 08 schematic diagram, and click Yes on the prompt message for saving.  </li>
<li>Click Update Diagram. The Update Diagram dialog box opens.  </li>
<li>Check the Synchronize against original selection/trace/query option and uncheck the Persist manually removed, reduced, or reconnected features option.  </li>
<li>Click OK. The diagram is updated and the schematic features removed in step 8 are restored and reappear in the diagram after updating.   </li>
<li>Click Customize and click Extension.  </li>
<li>Check the Schematic Features Removal Events (C#) or Schematic Feature Removal Events (VBNet) extension option and close the Extensions dialog box.  </li>
<li>Start an edit session on the Substation 08 schematic diagram.  </li>
<li>Select a set of schematic features in this diagram.  </li>
<li>Click Remove Schematic Features. The selected schematic features are graphically removed, but the associated records on the Inside<em>Nodes or Inside</em>Links tables from which they were queried (upon diagram generation) are also definitively removed. Updating the diagram will never restore the removed schematic features in the diagram regardless of the Persist manually removed, reduced, or reconnected features option that is used. They are no longer queried from the Inside<em>Nodes or Inside</em>Links tables because the related records have been removed.  </li>
</ol>

<h4>See Also</h4>

<p><a href="http://desktopdev.arcgis.com/search/?q=BeforeRemoveFeature%20Schematic%20event&amp;p=0&amp;language=en&amp;product=arcobjects-sdk-dotnet&amp;version=&amp;n=15&amp;collection=help">BeforeRemoveFeature Schematic event</a>  </p>

<hr />

<h4>Licensing</h4>

<table><tr><th> Development licensing </th><th> Deployment licensing </th></tr>
<tr><td> ArcGIS for Desktop Basic: Schematics </td><td> ArcGIS for Desktop Basic: Schematics </td></tr>  
<tr><td> ArcGIS for Desktop Standard: Schematics </td><td> ArcGIS for Desktop Standard: Schematics </td></tr>  
<tr><td> ArcGIS for Desktop Advanced: Schematics </td><td> ArcGIS for Desktop Advanced: Schematics </td></tr>  
</table>

</body>
</html>