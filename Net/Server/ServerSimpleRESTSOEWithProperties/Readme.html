<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="utf-8" />
  <title>Simple REST SOE with properties</title>
  <style>
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th, td {
      padding: 5px;
    }
    th {
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h2>Simple REST SOE with properties</h2>

<h3>Purpose</h3>

<p>The purpose of this sample is to show how to use a REST server object extension (SOE) that has one subresource and several properties. This sample also includes custom property pages for ArcMap and ArcGIS Manager.  The subresource, called layers, is a list of all layers accessible through the associated map service. The SOE has several properties that affect its behavior at run time, such as layerType, which dictates the types of layers the layers subresource will return. Other properties exist to showcase use of a property page in ArcMap and ArcGIS Server Manager.  </p>

<h3>Usage</h3>

<h4>Using this sample</h4>

<ol>
<li>Deploy the NetSimpleRESTSOEWithProperties.soe file to the server.   </li>
<li>Enable the SOE on a map service of your choice. Ensure that the map service has at least one feature layer and one raster layer.  </li>
<li>After the map service has started with the SOE enabled on it, open the Services Directory and access the http://<server name>:6080/arcgis/rest/services page.  </li>
<li>Click the map service on which you enabled your SOE.  </li>
<li>Scroll down and click NetSimpleRESTSOEWithProperties listed in the Supported Extensions section. If your REST SOE isn't listed here, log in to the Services Directory as an administrator and clear the REST cache. Repeat steps 3, 4, and 5 as needed.  </li>
<li>The NetSimpleRESTSOEWithProperties web page displays the root resource details, such as name and description, along with the Child Resources and Supported Operations sections.  </li>
<li>Click the layers subresource. It displays information about all the features layers in JSON format.   </li>
</ol>

<h4>Modify property values on the custom property page for ArcGIS Manager</h4>

<ol>
<li>Modify the value of the layerType property so that the layers subresource returns only raster layers. Log in to ArcGIS Server Manager and edit the map service on which you enabled the SOE. On the map service's editing page, click Capabilities, then click Simple REST SOE With Properties. A section called Properties will appear below the SOE. This is a custom property page created for Manager.  </li>
<li>Modify other property values as necessary and click Save and Restart.  </li>
<li>Access the layers subresource and verify that only raster layers are being returned.   </li>
</ol>

<h4>Modify property values on the custom property page for ArcMap</h4>

<ol>
<li>Copy NetSimpleRESTSOEWithProperties.Cat.dll to C:\Temp.   </li>
<li>Open the command line window. Navigate to the \Program Files (x86)\Common Files\ArcGIS\bin folder and type ESRIRegAsm.exe C:\Temp\NetSimpleRESTSOEWithProperties.Cat.dll /p:Desktop. Wait for confirmation of successful registration.   </li>
<li>Connect to your ArcGIS server in the ArcCatalog window of ArcMap. Open the service properties of the map service on which you enabled the SOE.  </li>
<li>Click the ".NET Simple REST SOE With Properties" extension. The layerType and other properties will be displayed in a properties dialog box in the Service Editor.  </li>
<li>Modify this property value by choosing one of the layer types, then click OK.  </li>
<li>After the service has restarted, check the layers subresource. It will display layers of the type you chose in the Service Editor dialog box in ArcMap.  </li>
<li>When your test is done, open the command line window again. Navigate to the \Program Files (x86)\Common Files\ArcGIS\bin folder and type ESRIRegAsm.exe /u C:\Temp\NetSimpleRESTSOEWithProperties.Cat.dll /p:Desktop. Wait for confirmation of successful unregistration.   </li>
</ol>

<hr />

<h4>Licensing</h4>

<table><tr><th> Development licensing </th><th> Deployment licensing </th></tr>
<tr><td>  </td><td>  </td></tr>  
</table>

</body>
</html>