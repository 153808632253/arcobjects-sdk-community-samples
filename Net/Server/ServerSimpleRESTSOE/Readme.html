<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="utf-8" />
  <title>Simple REST SOE</title>
  <style>
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
    }
    th, td {
      padding: 5px;
    }
    th {
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h2>Simple REST SOE</h2>

<h3>Purpose</h3>

<p>This sample illustrates the basic framework for creating a server object extension (SOE) that will be hosted as an ArcGIS Server REST SOE. The SOE extends the functionality of a map service with a single operation to echo input text.  All the information needed to deploy the SOE is included in this sample encapsulated in a .soe file. Deploying the SOE from this file does not require you to open Visual Studio. However, you can open the Visual Studio solution included with this sample to explore the coding patterns used in the SOE. The instructions below assume that you have installed the developer kit on the machine running ArcGIS Server Manager. If you installed the developer kit on some other machine, you'll need to copy the .soe file to the machine running Manager, or otherwise make the .soe file visible to Manager by placing it in a shared folder.  </p>

<h3>Usage</h3>

<h4>Deploy the SOE</h4>

<ol>
<li>Log in to ArcGIS Server Manager and click Site.  </li>
<li>Click Extensions.  </li>
<li>Click Add Extension.  </li>
<li>Click Browse and navigate to the .soe file, which by default is located at <ArcGIS DeveloperKit install location>\Samples\ArcObjectsNet\ServerSimpleRESTSOE\CSharp\SimpleRESTSOE\bin\Debug\NetSimpleRESTSOE.soe.   </li>
<li>Click OK.  </li>
</ol>

<h4>Enable the SOE on a service</h4>

<ol>
<li>Start ArcMap and click File > Open.  </li>
<li>Browse to or type the location of USA.mxd, which is located in <ArcGIS Developer Kit Location>\Samples\data\Usa.  </li>
<li>Click File > Share As > Service.  </li>
<li>Click Save a service definition and click Next.  </li>
<li>Choose "No available connection" and check "Include data in service definition when publishing".  </li>
<li>Change the Server type to ArcGIS Server.  </li>
<li>Leave the Service name as USA and click Next.  </li>
<li>Choose a location where you want to save the service definition, then click Continue.  </li>
<li>Click Stage to create the service definition. In the success message, note the path of your service definition (.sd).  </li>
<li>Copy the USA.sd file to the machine running ArcGIS Server Manager.  </li>
<li>On the machine running ArcGIS Server Manager, log in to Manager and click Services.  </li>
<li>If necessary, click the Manage Services tab.  </li>
<li>Click Publish Service.  </li>
<li>Click Browse, browse to the location of USA.sd on the local machine, and click Open. Then click Next.  </li>
<li>Accept the default properties for the service by clicking Next.  </li>
<li>Click Publish. This creates the USA map service.  </li>
<li>On the Services tab of Manager, select the USA map service and select Capabilities. In the list of available capabilities, find ".Net Simple REST SOE" and check the box to enable it. If there is a list of available operations allowed, select all of them.  </li>
<li>Click the Save and Restart button to restart the service.  </li>
</ol>

<h4>Test the SOE in ArcGIS Server Services Directory</h4>

<ol>
<li>Open a browser and navigate to the root REST services endpoint for ArcGIS Server (for example: http://<server name>:6080/arcgis/rest/services). You'll see a list of services, including the USA map service created in the previous section.   </li>
<li>Click the USA map service created in the previous section and scroll to the bottom of the map service description page. The section titled Supported Extensions includes the SOE NetSimpleRESTSOE. If you don't see the extension, you can attempt to hit its URL directly at http://<server name>:6080/arcgis/rest/services/<name of service>/MapServer/exts/NetSimpleRESTSOE.  </li>
<li>Click the SOE name. The REST SOE description page displays one subresource called layers and one operation called getLayerCountByType.   </li>
<li>Click the subresource called layers and view all layers in the host map service. Click the back button.  </li>
<li>Click the getLayerCountByType operation and type in either "feature", "raster" or "all" and click either the echo (GET) or echo (POST) button. The operation will return the number of layers of the type you specified.  </li>
</ol>

<hr />

<h4>Licensing</h4>

<table><tr><th> Development licensing </th><th> Deployment licensing </th></tr>
<tr><td>  </td><td>  </td></tr>  
</table>

</body>
</html>